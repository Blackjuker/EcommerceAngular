pipeline{
    agent any
    stages{
        stage('pre-build'){
            steps{
                sh "echo bonjour"
            }
        }
        stage('build'){
                steps{
                    sh 'echo build in progress'
                }
            }
        stage('Unit tests'){
            steps{
                sh 'echo Running unit tests'
            }
        }
        stage('deploy'){
            steps{
                sh 'echo Deploying build'
            }
        }
        stage('Regression tests'){
            parallel{
                chrome{
                    sh 'echo running chrome'
                }
                firefox{
                    sh 'echo running firefox'
                }
                safari{
                    sh 'echo running safari'
                }
            }
        }
    }

    post{
        always{
            echo 'ALWAYS'
        }
    }
}