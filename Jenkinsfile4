pipeline{
    agent any
        stages{
            stage('pre-build'){
                steps{
                    sh 'echo pre-build'
                }
            }
            stage('build'){
                steps{
                    sh 'echo build in progress'
                }
            }
            stage('Unit tests'){
                steps{
                    sh 'echo Running unit tests'
                }
            }
            stage('deploy'){
                steps{
                    sh 'echo Deploying build'
                }
            }
            stage('Regression tests'){
                steps{
                    parallel{
                        chrome :{
                            sh 'echo Running chrome'
                        },
                        firefox :{
                            sh 'echo Running firefox'
                        },
                        safari :{
                            sh 'echo Running safari'
                        }
                    }
                } 
            }
            stage('Release to prod'){
                steps{
                    sh 'echo Releasing to prod'
                } 
            }
        }


        post{
            always{
                echo 'ALWAYS'
            }
        }
}
